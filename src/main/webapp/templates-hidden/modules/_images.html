<section id="project-images" class="images imagesSection">
  <div class="container"> 
    <h2 data-lift="lift:L10n.i">project_images</h2>
    <form data-lift="form.ajax">
      <label id="imagelabel" data-lift="lift:L10n.i">project_image_upload</label>
      <input id="imageUpload" type="file" ></input>
      <div id="imageuploadform" class="imageuploadstatus left"></div>
      <label data-lift="lift:L10n.i">project_image_upload_title</label>
      <input id="newImageIitle" placeholder="Title" value="" type="text" ></input>
      <label data-lift="lift:L10n.i">project_image_upload_description</label>
      <input id="newImageDescription" placeholder="Description" value="" type="text" ></input>
      <button id="testMe" >test_button</button>
      <button id="uploadImage" class="left" data-lift="lift:L10n.i" type="submit" >upload_image</button>
    </form>

    <span id="image_messages"></span>
  </div>

  <div class="container">
    <ul id="listImages">
      <li id="singleImage">
        <figure>
          <img src="#" id="thumbnailImage"></img>
        </figure>
        <div class="thumb-content">
          <h3><span id="viewImageTitle">imageTitle</span></h3>
          <p><span id="viewImageDescription">imageDescription</span></p>
          <button id="insertButton" onclick="insertAtCursor($('.wysiwyg-descriptionfield-editform')[0],'!http://dummy.nok(dummy)!')"><span data-lift="lift:L10n.i">project_description_add_image</span></button> 
        </div>
      </li>
    </ul>
  </div>
  


  <lift:with-resource-id>
    <script src="/js/vendor/jquery.ui.widget.js"></script>
    <script src="/js/jquery.iframe-transport.js"></script>
    <script src="/js/jquery.fileupload.js"></script>
    <script src="/js/jquery.fileupload-process.js"></script>
    <script src="/js/jquery.fileupload-image.js"></script>
  </lift:with-resource-id>


<script>
function uploadImageToServer(inputToUpload, destination) {
var file_data = $(inputToUpload).prop('files'); 
$('#imageuploadform').fileupload('send', {files: file_data, url: destination}); 
}
</script>
<script id="imageuploadconfig">
  $(function () {
    $('#imageuploadform').fileupload({
      done: function (e, data) {
      }
    });
  });
</script>
<script>
  function insertAtCursor(myField, myValue) {
      //IE support
      if (document.selection) {
          myField.focus();
          sel = document.selection.createRange();
          sel.text = myValue;
      }
      //MOZILLA and others
      else if (myField.selectionStart || myField.selectionStart == '0') {
          var startPos = myField.selectionStart;
          var endPos = myField.selectionEnd;
          myField.value = myField.value.substring(0, startPos)
              + myValue
              + myField.value.substring(endPos, myField.value.length);
      } else {
          myField.value += myValue;
      }
  }
</script>
</section>
