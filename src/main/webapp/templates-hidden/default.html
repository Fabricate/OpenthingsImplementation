<html xmlns="http://www.w3.org/1999/xhtml" xmlns:lift="http://liftweb.net/">
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Openthings is a platform where people can design together and stimulate collaboration to make great projects happen." />
    <meta name="keywords" content="open-design, design, version control, makers, maker movement, fablabs" />
		
    <title data-lift="Menu.title">openThings.alpha | </title>

    <link rel="icon" href="/public/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="/public/stylesheets/main.css" />
    <link rel="stylesheet" type="text/css" href="/public/stylesheets/jquery.tagsinput.css" />

    <lift:with-resource-id>
        <script id="jquery" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script id="json" src="/classpath/json.js" type="text/javascript"></script>
    </lift:with-resource-id>

    <style type="text/css">
/* <![CDATA[ */
.edit_error_class {
  display: block;
  color: red;
}

	 
  /* ]]> */
  </style>
  </head>
  <body data-lift="Login.account" id="onlinestatus">
		<span data-lift="embed?what=modules/_navigation">Navigation</span>
		<span data-lift="embed?what=modules/_search">Search</span>
<!--		<span data-lift="embed?what=modules/_advancedsearch">Advanced search</span>-->


		<div class="column span-12 last" style="text-align: right">
			<h1 class="alt"><img alt="" id="ajax-loader" style="display:none; margin-bottom: 0px; margin-left: 5px" src="/public/images/ajax-loader.gif"></h1>
		</div>
		<div data-lift="Msgs?showAll=true" class="alertmessages"></div>

		<span data-lift="embed?what=modules/_addproject">AddProject</span>
		<span data-lift="embed?what=modules/_login">Login</span>
		<span data-lift="embed?what=modules/_logout">Logout</span>
		<span data-lift="embed?what=modules/_account">Account</span>
		<span data-lift="embed?what=modules/_editproject">Edit project</span>

		<div data-lift="Login.account"><span id="onlinestatus" class="#"></span></div>

    <div id="content">The main content will get bound here</div>

		<span data-lift="embed?what=modules/_footernav">FooterNav</span>

<!--		<span data-lift="Menu.builder"></span>-->



		<script src="/public/js/jquery.viewportchecker.js"></script>
		<script>
			jQuery(document).ready(function() {
				jQuery('.preview').addClass("hidden").viewportChecker({
						classToAdd: 'visible animated fadeIn',
						offset: 100
					 });
			});

			function ShowComments(){
				$(".projectComments ul").slideToggle();
				$(".viewcomments").addClass( "commentsopen" );
			}
			function openComments(){
				$(".projectComments ul").slideDown();
				$(".viewcomments").addClass( "commentsopen" );
				$('html, body').animate({
				    scrollTop: $("#comments li:last").offset().top
				}, 500);
			}
			function AddProject(){
				$(".postProject").fadeIn();
				$(".close-icon").click(function(){
					$(".postProject").fadeOut();
				});
			}
			function EditProject(){
				$(".editProject").fadeIn();
				$(".close-icon").click(function(){
					$(".editProject").fadeOut();
				});
			}
			function LoginScreen(){
				$(".loginScreen").fadeIn();
				$(".close-icon").click(function(){
					$(".loginScreen").fadeOut();
				});
			}
			function LogoutScreen(){
				$(".logoutScreen").fadeIn();
				$(".close-icon").click(function(){
					$(".logoutScreen").fadeOut();
				});
			}
			function AccountScreen(){
				$(".accountScreen").fadeIn();
				$(".close-icon").click(function(){
					$(".accountScreen").fadeOut();
				});
			}
			function AddMaterial(){
				$(".addMaterial").slideToggle();
			}
//			$('.editProjectBtn').click(function(){
//				$(".editPage").fadeToggle();
//				$('.editProjectBtn').toggleClass('editOn');
//				
//			});

			$(document).ready(function() {
					$(".editProjectBtn").click(function() {
							var $this = $(this);
							$(".editPage").fadeToggle("fast")
							$this.toggleClass("editOn");

							if ($this.hasClass("editOn")) {
									$this.html("<span class='icon-pencil editprojecticon'></span> Stop editing");
							} else {
									$this.html("<span class='icon-pencil editprojecticon'></span> Work on project");
							}
					});
			});
			
			function AdvancedSearch(){
				$(".advancedSearch").slideToggle();
				$(".close-icon").click(function(){
					$(".accountScreen").fadeOut();
				});
			}
			function AddTutorial(){
				$(".addTutorial").slideToggle();
				$('html, body').animate({
				    scrollTop: $(".addTutorial").offset().top
				}, 500);
			}
			function GoToProjects(){
				$('html, body').animate({
					scrollTop: $(".mainContent").offset().top
				}, 500); 
			}

			function ViewDetails(){
				$(".versionDetails").slideToggle();
			}

			$('.rating1').hover(function() {
				$('.rating').toggleClass('rated1'); // add class when mouseover happen
			});		
			$('.rating2').hover(function() {
				$('.rating').toggleClass('rated2'); // add class when mouseover happen
			});	
			$('.rating3').hover(function() {
				$('.rating').toggleClass('rated3'); // add class when mouseover happen
			});	
			$('.rating4').hover(function() {
				$('.rating').toggleClass('rated4'); // add class when mouseover happen
			});
			$('.rating5').hover(function() {
				$('.rating').toggleClass('rated5'); // add class when mouseover happen
			});
			$(".rating1").click(function(){
				$(".rating").addClass("isRated1");
				$(".rating").removeClass("isRated2 isRated3 isRated4 isRated5");
			});
			$(".rating2").click(function(){
				$(".rating").addClass("isRated2");
				$(".rating").removeClass("isRated3 isRated4 isRated5");
			});
			$(".rating3").click(function(){
				$(".rating").addClass("isRated3");
				$(".rating").removeClass("isRated4 isRated5");
			});
			$(".rating4").click(function(){
				$(".rating").addClass("isRated4");
				$(".rating").removeClass("isRated5");
			});
			$(".rating5").click(function(){
				$(".rating").addClass("isRated5");
			});

			$(".designerView .editprojecticon").remove();
			$(".designerView .editProjectBtn").remove();
			$(".languageSelect").remove();
			$(".notLoggedIn .commentInput").remove();
			$(".notLoggedIn #newrating").remove();
			$(".notLoggedIn .editProjectBtn").remove();


			if( $('.comment').length )         // use this if you are using class to check
			{
			}
			else{
				$(".viewcomments").remove();
			}
			
			if( $('#commits li').length )         // use this if you are using class to check
			{
				$(".projectVersionsList").show();
			}
			else{
				$(".projectVersionsList").hide();
			}
			
		</script>
  </body>
</html>
