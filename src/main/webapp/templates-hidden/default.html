<html xmlns="http://www.w3.org/1999/xhtml" xmlns:lift="http://liftweb.net/">
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="project description" />
		
    <meta name="keywords" content="" />
    <title class="lift:Menu.title">openThings | </title>

    <link rel="icon" href="/public/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="/public/stylesheets/main.css" />


    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script id="jquery" src="/classpath/jquery.js" type="text/javascript"></script>

    <script id="json" src="/classpath/json.js" type="text/javascript"></script>

    <style type="text/css">
/* <![CDATA[ */
.edit_error_class {
  display: block;
  color: red;
}

	 
  /* ]]> */
  </style>
  </head>
  <body>
		<span class="lift:embed?what=modules/_navigation">Navigation</span>

		<span class="lift:embed?what=modules/_search">Search</span>



		<div class="column span-12 last" style="text-align: right">
			<h1 class="alt"><img alt="" id="ajax-loader" style="display:none; margin-bottom: 0px; margin-left: 5px" src="/images/ajax-loader.gif"></h1>
		</div>

		<span class="lift:embed?what=modules/_addproject">AddProject</span>
		<span class="lift:embed?what=modules/_login">Login</span>
		<span class="lift:embed?what=modules/_account">Account</span>


    <div id="content">The main content will get bound here</div>

		<span class="lift:embed?what=modules/_footernav">FooterNav</span>

		<span class="lift:Menu.builder"></span>
		<div class="lift:Msgs?showAll=true"></div>
		<hr class="space" />

		<footer class="mainFooter">
			<p class="left">Webdesign made by <a href="#">Martinr.nl</a> feel free to download the designs <a href="#">here</a></p>
		</footer>	
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="public/js/jquery-2.1.1.min.js">\x3C/script>')</script>
		<script src="public/js/jquery.viewportchecker.js"></script>
		<script>
			$(function() {
				String.prototype.decodeHTML = function() {
					return $("<div>", {html: "" + this}).html();
			};
			var $main = $(".mainContent"),
		
			init = function() {	
				jQuery(document).ready(function() {
						jQuery('.preview').addClass("hidden").viewportChecker({
								classToAdd: 'visible animated fadeIn',
								offset: 100
							 });
				});
		
				// Do this when a page loads.
				$('.mainNavigation li a').click(function() {
					$('.mainNavigation li.current').removeClass('current');
					$(this).closest('li').addClass('current');
				});	
				if(window.location.pathname === "/openthings/tutorial.php" || window.location.pathname === "/openthings/project.php" || window.location.pathname === "/openthings/user.php"){
					UserRating();
				}
				else{}		
				if(window.location.pathname === "/openthings/tutorials.php" || window.location.pathname === "/openthings/index.php"  || window.location.pathname === "/openthings/designers.php"){
					$( ".mainContent" ).addClass( "overviewPage" );
				}
				else{
					$( ".mainContent" ).removeClass( "overviewPage" );
				}
				if(window.location.pathname === "/openthings/standard.php"){
					$( ".mainContent" ).addClass( "standardPage" );
				}
				else{
					$( ".mainContent" ).removeClass( "standardPage" );
				}
			},
		
			ajaxLoad = function(html) {
				document.title = html
				  .match(/<title>(.*?)<\/title>/)[1]
				  .trim()
				  .decodeHTML();		

				init();
			},
		
			loadPage = function(href) {
				$main.load(href + " .mainContent>*", ajaxLoad);
			};
		
			init();
		
			$(window).on("popstate", function(e) {
				if (e.originalEvent.state !== null) {
				  loadPage(location.href);
				}
			});

			$(document).on("click", "a, area", function() {
				var href = $(this).attr("href");

				if (href.indexOf(document.domain) > -1
				  || href.indexOf(':') === -1)
				{
				  history.pushState({}, '', href);
				  loadPage(href);
				  return false;
				}
			});
		});
		</script>
		<script>
			function ShowComments(){
				$(".projectComments ul").slideToggle();
				$(".viewcomments").addClass( "commentsopen" );
			}
			function AddProject(){
				$(".postProject").slideDown();
				$(".close-icon").click(function(){
					$(".postProject").slideUp();
				});
			}
			function LoginScreen(){
				$(".loginScreen").slideDown();
				$(".close-icon").click(function(){
					$(".loginScreen").slideUp();
				});
			}
			function AccountScreen(){
				$(".accountScreen").slideDown();
				$(".close-icon").click(function(){
					$(".accountScreen").slideUp();
				});
			}
			function AddMaterial(){
				$(".addMaterial").slideToggle();
			}

			function AddTutorial(){
				$(".addTutorial").slideToggle();
				$('html, body').animate({
				    scrollTop: $(".addTutorial").offset().top
				}, 500);
			}
			function ViewDetails(){
				$(".versionDetails").slideToggle();
			}

			function UserRating(){
				$('.rating1').hover(function() {
					$('.rating').toggleClass('rated1'); // add class when mouseover happen
				});		
				$('.rating2').hover(function() {
					$('.rating').toggleClass('rated2'); // add class when mouseover happen
				});	
				$('.rating3').hover(function() {
					$('.rating').toggleClass('rated3'); // add class when mouseover happen
				});	
				$('.rating4').hover(function() {
					$('.rating').toggleClass('rated4'); // add class when mouseover happen
				});
				$('.rating5').hover(function() {
					$('.rating').toggleClass('rated5'); // add class when mouseover happen
				});
				$(".rating1").click(function(){
					$(".rating").addClass("isRated1");
					$(".rating").removeClass("isRated2 isRated3 isRated4 isRated5");
				});
				$(".rating2").click(function(){
					$(".rating").addClass("isRated2");
					$(".rating").removeClass("isRated3 isRated4 isRated5");
				});
				$(".rating3").click(function(){
					$(".rating").addClass("isRated3");
					$(".rating").removeClass("isRated4 isRated5");
				});
				$(".rating4").click(function(){
					$(".rating").addClass("isRated4");
					$(".rating").removeClass("isRated5");
				});
				$(".rating5").click(function(){
					$(".rating").addClass("isRated5");
				});
			}
		</script>

  </body>
</html>
